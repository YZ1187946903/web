{"remainingRequest":"/Users/curry/IdeaProjects/web/node_modules/babel-loader/lib/index.js!/Users/curry/IdeaProjects/web/src/utils/request.js","dependencies":[{"path":"/Users/curry/IdeaProjects/web/src/utils/request.js","mtime":1618913270000},{"path":"/Users/curry/IdeaProjects/web/node_modules/cache-loader/dist/cjs.js","mtime":1644834874663},{"path":"/Users/curry/IdeaProjects/web/node_modules/babel-loader/lib/index.js","mtime":1644834704109}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/curry/IdeaProjects/web/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/curry/IdeaProjects/web/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/curry/IdeaProjects/web/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport axios from 'axios';\nimport { VueAxios } from './axios';\nimport queryString from 'query-string';\nimport Vue from 'vue';\nimport { USER_INFO } from '@/store/mutation-types'; // 创建 axios 实例  公共\n\nvar service = axios.create({\n  baseURL: 'http://127.0.0.1:8081',\n  // api base_url\n  timeout: 12000,\n  // 请求超时时间s\n  withCredentials: true\n});\nvar serviceLogin = axios.create({\n  baseURL: 'https://gateway.4006820016.com/api',\n  // api base_url\n  timeout: 12000,\n  // 请求超时时间s\n  headers: {\n    'Content-Type': \"application/json;charset=utf-8\"\n  }\n});\nvar url; // 请求拦截\n\nservice.interceptors.request.use(function (config) {\n  var ts = Vue.ls.get(USER_INFO);\n  console.log(ts);\n\n  if (ts) {\n    config.headers['token'] = ts.token;\n  }\n\n  return config;\n}); // 响应拦截\n\nservice.interceptors.response.use(function (response) {\n  return response.data;\n});\n\nvar Request =\n/*#__PURE__*/\nfunction () {\n  function Request() {\n    _classCallCheck(this, Request);\n  }\n\n  _createClass(Request, null, [{\n    key: \"login\",\n    //登录\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(data) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", service.post(\"admin/login\", queryString.stringify(data), {\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function login(_x) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }() // get请求\n\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(url, param) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", service.get(url, {\n                  params: param\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function get(_x2, _x3) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }() // post请求\n\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(url, data) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", service.post(url, queryString.stringify(data), {\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function post(_x4, _x5) {\n        return _post.apply(this, arguments);\n      }\n\n      return post;\n    }() // post请求json\n\n  }, {\n    key: \"postJson\",\n    value: function () {\n      var _postJson = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(url, data) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", service.post(url, data, {}));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function postJson(_x6, _x7) {\n        return _postJson.apply(this, arguments);\n      }\n\n      return postJson;\n    }() // put请求\n\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(url, data) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", service.put(url, queryString.stringify(data), {\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function put(_x8, _x9) {\n        return _put.apply(this, arguments);\n      }\n\n      return put;\n    }() // putjson\n\n  }, {\n    key: \"putJson\",\n    value: function putJson(url, data) {\n      return service.put(url, data, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      });\n    } // patch请求\n\n  }, {\n    key: \"patch\",\n    value: function () {\n      var _patch = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(url, data) {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", service.patch(url, queryString.stringify(data), {\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function patch(_x10, _x11) {\n        return _patch.apply(this, arguments);\n      }\n\n      return patch;\n    }()\n  }, {\n    key: \"patchJson\",\n    value: function () {\n      var _patchJson = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(url, data) {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", service.patch(url, data, {}));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function patchJson(_x12, _x13) {\n        return _patchJson.apply(this, arguments);\n      }\n\n      return patchJson;\n    }() // delete请求\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(url, param) {\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", service.delete(url, {\n                  params: param\n                }));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function _delete(_x14, _x15) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }() // oauth2授权\n\n  }, {\n    key: \"oauth\",\n    value: function () {\n      var _oauth = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9(url, data) {\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!data.grant_type) {\n                  data.grant_type = 'password';\n                }\n\n                return _context9.abrupt(\"return\", axios.request({\n                  method: 'post',\n                  url: url,\n                  data: queryString.stringify(data),\n                  headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    Authorization: 'Basic YXBwOmFwcHNlY3JldA=='\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function oauth(_x16, _x17) {\n        return _oauth.apply(this, arguments);\n      }\n\n      return oauth;\n    }() // request请求\n\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(config) {\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt(\"return\", service.request(config));\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function request(_x18) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return Request;\n}(); // 安装vue配置\n\n\nvar installer = {\n  vm: {},\n  install: function install(Vue) {\n    Vue.use(VueAxios, service);\n  }\n}; // 导出供用户使用\n\nexport { installer as VueAxios, Request as req };",{"version":3,"sources":["/Users/curry/IdeaProjects/web/src/utils/request.js"],"names":["axios","VueAxios","queryString","Vue","USER_INFO","service","create","baseURL","timeout","withCredentials","serviceLogin","headers","url","interceptors","request","use","config","ts","ls","get","console","log","token","response","data","Request","post","stringify","param","params","put","patch","delete","grant_type","method","Authorization","installer","vm","install","req"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,QADF,QAEO,SAFP;AAGA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,SAAT,QAA0B,wBAA1B,C,CACA;;AACA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAE,uBADkB;AACO;AAClCC,EAAAA,OAAO,EAAE,KAFkB;AAEX;AAChBC,EAAAA,eAAe,EAAE;AAHU,CAAb,CAAhB;AAOA,IAAMC,YAAY,GAAGV,KAAK,CAACM,MAAN,CAAa;AAChCC,EAAAA,OAAO,EAAE,oCADuB;AACe;AAC/CC,EAAAA,OAAO,EAAE,KAFuB;AAEhB;AAChBG,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAHuB,CAAb,CAArB;AASA,IAAIC,GAAJ,C,CACA;;AACAP,OAAO,CAACQ,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACzC,MAAIC,EAAE,GAAEd,GAAG,CAACe,EAAJ,CAAOC,GAAP,CAAWf,SAAX,CAAR;AACAgB,EAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;;AACA,MAAGA,EAAH,EAAM;AACJD,IAAAA,MAAM,CAACL,OAAP,CAAe,OAAf,IAA0BM,EAAE,CAACK,KAA7B;AACD;;AACD,SAAON,MAAP;AACD,CAPD,E,CASA;;AACAX,OAAO,CAACQ,YAAR,CAAqBU,QAArB,CAA8BR,GAA9B,CAAkC,UAACQ,QAAD,EAAc;AAC9C,SAAOA,QAAQ,CAACC,IAAhB;AACD,CAFD;;IAIMC,O;;;;;;;;;AACJ;;;;+CACoBD,I;;;;;iDACXnB,OAAO,CAACqB,IAAR,CAAa,aAAb,EAA4BxB,WAAW,CAACyB,SAAZ,CAAsBH,IAAtB,CAA5B,EAAyD;AAC9Db,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AADqD,iBAAzD,C;;;;;;;;;;;;;;;QAOT;;;;;;;gDACkBC,G,EAAKgB,K;;;;;kDACdvB,OAAO,CAACc,GAAR,CAAYP,GAAZ,EAAiB;AACtBiB,kBAAAA,MAAM,EAAED;AADc,iBAAjB,C;;;;;;;;;;;;;;;QAKT;;;;;;;gDACmBhB,G,EAAKY,I;;;;;kDACfnB,OAAO,CAACqB,IAAR,CAAad,GAAb,EAAkBV,WAAW,CAACyB,SAAZ,CAAsBH,IAAtB,CAAlB,EAA+C;AACpDb,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AAD2C,iBAA/C,C;;;;;;;;;;;;;;;QAQT;;;;;;;gDACuBC,G,EAAKY,I;;;;;kDACnBnB,OAAO,CAACqB,IAAR,CAAad,GAAb,EAAkBY,IAAlB,EAAwB,EAAxB,C;;;;;;;;;;;;;;;QAIT;;;;;;;gDACkBZ,G,EAAKY,I;;;;;kDACdnB,OAAO,CAACyB,GAAR,CAAYlB,GAAZ,EAAiBV,WAAW,CAACyB,SAAZ,CAAsBH,IAAtB,CAAjB,EAA8C;AACnDb,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AAD0C,iBAA9C,C;;;;;;;;;;;;;;;QAMT;;;;4BACgBC,G,EAAKY,I,EAAM;AACzB,aAAOnB,OAAO,CAACyB,GAAR,CAAYlB,GAAZ,EAAiBY,IAAjB,EAAuB;AAC5Bb,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AADmB,OAAvB,CAAP;AAKD,K,CACD;;;;;;;gDACoBC,G,EAAKY,I;;;;;kDAChBnB,OAAO,CAAC0B,KAAR,CAAcnB,GAAd,EAAmBV,WAAW,CAACyB,SAAZ,CAAsBH,IAAtB,CAAnB,EAAgD;AACrDb,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AAD4C,iBAAhD,C;;;;;;;;;;;;;;;;;;;;;gDAOeC,G,EAAKY,I;;;;;kDACpBnB,OAAO,CAAC0B,KAAR,CAAcnB,GAAd,EAAmBY,IAAnB,EAAyB,EAAzB,C;;;;;;;;;;;;;;;QAET;;;;;;;gDACqBZ,G,EAAKgB,K;;;;;kDACjBvB,OAAO,CAAC2B,MAAR,CAAepB,GAAf,EAAoB;AACzBiB,kBAAAA,MAAM,EAAED;AADiB,iBAApB,C;;;;;;;;;;;;;;;QAIT;;;;;;;gDACoBhB,G,EAAKY,I;;;;;AACvB,oBAAI,CAACA,IAAI,CAACS,UAAV,EAAsB;AACpBT,kBAAAA,IAAI,CAACS,UAAL,GAAkB,UAAlB;AACD;;kDACMjC,KAAK,CAACc,OAAN,CAAc;AACnBoB,kBAAAA,MAAM,EAAE,MADW;AAEnBtB,kBAAAA,GAAG,EAAEA,GAFc;AAGnBY,kBAAAA,IAAI,EAAEtB,WAAW,CAACyB,SAAZ,CAAsBH,IAAtB,CAHa;AAKnBb,kBAAAA,OAAO,EAAE;AACP,oCAAgB,mCADT;AAEPwB,oBAAAA,aAAa,EAAE;AAFR;AALU,iBAAd,C;;;;;;;;;;;;;;;QAYT;;;;;;;iDACsBnB,M;;;;;mDACbX,OAAO,CAACS,OAAR,CAAgBE,MAAhB,C;;;;;;;;;;;;;;;;;;;KAKX;;;AACA,IAAMoB,SAAS,GAAG;AAChBC,EAAAA,EAAE,EAAE,EADY;AAEhBC,EAAAA,OAFgB,mBAEPnC,GAFO,EAEF;AACZA,IAAAA,GAAG,CAACY,GAAJ,CAAQd,QAAR,EAAkBI,OAAlB;AACD;AAJe,CAAlB,C,CAMA;;AACA,SACE+B,SAAS,IAAInC,QADf,EAEEwB,OAAO,IAAIc,GAFb","sourcesContent":["import axios from 'axios'\r\nimport {\r\n  VueAxios\r\n} from './axios'\r\nimport queryString from 'query-string'\r\nimport Vue from 'vue'\r\nimport { USER_INFO } from '@/store/mutation-types'\r\n// 创建 axios 实例  公共\r\nconst service = axios.create({\r\n  baseURL: 'http://127.0.0.1:8081', // api base_url\r\n  timeout: 12000, // 请求超时时间s\r\n  withCredentials: true\r\n})\r\n\r\n\r\nconst serviceLogin = axios.create({\r\n  baseURL: 'https://gateway.4006820016.com/api', // api base_url\r\n  timeout: 12000, // 请求超时时间s\r\n  headers: {\r\n    'Content-Type': \"application/json;charset=utf-8\"\r\n  }\r\n})\r\n\r\n\r\nvar url\r\n// 请求拦截\r\nservice.interceptors.request.use(config => {\r\n  let ts= Vue.ls.get(USER_INFO)\r\n  console.log(ts) \r\n  if(ts){\r\n    config.headers['token'] = ts.token;\r\n  }\r\n  return config\r\n})\r\n\r\n// 响应拦截\r\nservice.interceptors.response.use((response) => {\r\n  return response.data\r\n})\r\n\r\nclass Request {\r\n  //登录\r\n  static async login (data) {\r\n    return service.post(\"admin/login\", queryString.stringify(data), {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    })\r\n  }\r\n\r\n  // get请求\r\n  static async get (url, param) {\r\n    return service.get(url, {\r\n      params: param\r\n    })\r\n  }\r\n\r\n  // post请求\r\n  static async post (url, data) {\r\n    return service.post(url, queryString.stringify(data), {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  // post请求json\r\n  static async postJson (url, data) {\r\n    return service.post(url, data, {\r\n    })\r\n  }\r\n\r\n  // put请求\r\n  static async put (url, data) {\r\n    return service.put(url, queryString.stringify(data), {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    })\r\n  }\r\n  // putjson\r\n  static putJson (url, data) {\r\n    return service.put(url, data, {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    })\r\n  }\r\n  // patch请求\r\n  static async patch (url, data) {\r\n    return service.patch(url, queryString.stringify(data), {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      }\r\n    })\r\n  }\r\n\r\n  static async patchJson (url, data) {\r\n    return service.patch(url, data, {})\r\n  }\r\n  // delete请求\r\n  static async delete (url, param) {\r\n    return service.delete(url, {\r\n      params: param\r\n    })\r\n  }\r\n  // oauth2授权\r\n  static async oauth (url, data) {\r\n    if (!data.grant_type) {\r\n      data.grant_type = 'password'\r\n    }\r\n    return axios.request({\r\n      method: 'post',\r\n      url: url,\r\n      data: queryString.stringify(data),\r\n\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        Authorization: 'Basic YXBwOmFwcHNlY3JldA=='\r\n\r\n      }\r\n    })\r\n  }\r\n  // request请求\r\n  static async request (config) {\r\n    return service.request(config)\r\n  }\r\n\r\n\r\n}\r\n// 安装vue配置\r\nconst installer = {\r\n  vm: {},\r\n  install (Vue) {\r\n    Vue.use(VueAxios, service)\r\n  }\r\n}\r\n// 导出供用户使用\r\nexport {\r\n  installer as VueAxios,\r\n  Request as req\r\n\r\n}\r\n"]}]}